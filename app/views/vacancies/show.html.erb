<% provide :page_title, 'vacancies' %>

<h1 class="mt-3"><%= t('entities.vacancy_with_title', title: @vacancy.title) %></h1>
<p class="mt-3 display-7"><strong><%= t('vacancy.show.description.label') %></strong>: <%= @vacancy.description %></p>
<div class="row">
  <p class="mt-2"><%= t('vacancy.questions_count', count: questions_count(@vacancy)) %></p>

  <%= render partial: 'tags_section', locals: { vacancy: @vacancy, tags: @tags } %>

  <%= render partial: 'vacancies/questions_table' %>
</div>

<div class="row">
  <div class="col-md-2">
    <% if policy(@vacancy).destroy? %>
      <%= link_to t('buttons.delete_vacancy'),
                  vacancy_path(@vacancy),
                  method: :delete,
                  class: 'btn btn-primary mb-4',
                  data: { confirm: 'Удалить вакансию?' } %>
    <% end %>
  </div>
  <div class="col-md-10">
    <% if policy(Question).create? %>
      <%= link_to t('buttons.create_question'),
                  new_vacancy_question_path(@vacancy),
                  class: 'btn btn-primary mb-4 ml-4' %>
    <% end %>
  </div>
</div>
